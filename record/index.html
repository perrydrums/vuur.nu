<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" type="text/css" href="../styles/css/style.css">
  <link rel="stylesheet" type="text/css" href="../styles/css/record.css">
  <title>Video opnemen | vuur.nu</title>
</head>
<body>

<div class="back-container">
  <a href="/choices">
    <img class="back-button" src="../images/left-arrow-01.png"/>
  </a>
</div>

<div id="wrapper">
  <div class="title"><h3>VIDEO OPNEMEN</h3></div>
  <video id="result" style="width: 100vw; height: 400px;" autoplay loop></video>
  <input class="file-input"
         id="file"
         type="file"
         accept="video/*"
         capture="camera"
         onchange="readURL(this);"
  >
  <label id="file-label" class="button" for="file">Opnemen</label>
  <a href="../notes/index.html">
    <button id="send-button" class="send-button" onclick="send()">Verstuur</button>
  </a>
</div>

<script>
  function readURL(input) {
    if (input.files && input.files[0]) {
      const reader = new FileReader();
      reader.onloadend = e => {
        document.getElementById('result')
          .setAttribute('src', e.target.result);
      };
      reader.readAsDataURL(input.files[0]);

      document.getElementById('file-label').innerText = 'Opnieuw';
      document.getElementById('file-label').style.display = 'none';
      document.getElementById('send-button').style.display = 'inline-block';
    }
  }

  function send() {
    alert('We hebben de video ontvangen, dankjewel!');
    window.location = '/notes';
  }
</script>
</body>
</html>
